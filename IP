直连路由

静态路由

动态路由：
    DV(距离矢量)：
        1.维护Di 和 Si
        2.交换
        3.更新
            Di:代价
            Si:最优路径的下一跳
        简单
        交换信息大，收敛慢，计数到无穷
        RIP:路由选择信息协议，UDP之上，V1（有类），V2（无类），NG（支持IPV6）
            采用跳数作为量度
            <=15:超过15跳不可达
            30S交换一次
            缺点：
                计数到无穷，路由环
            
    LS(链路状态)：需要较大空间
        发现：
            发现邻居
                发送HELLO给邻居，收到应答
        设置：
            设置链路成本
            到邻居的链路成本，根据链路带宽/延迟
            发送ECHO分组，测量往返时间RTT
        构造：
            构造LSP/LSA:Link State Packet/Advertisement
            包括发送方的标识，序列号，年龄，邻居列表，成本
            周期性构造/某种事件发生
            触发、更新
        发送：
            发送LSA/LSP（要求被确认）
            基本算法：
                每个分组包含序列号，递增
                记录（源路由器，序列号）
                收到新分组时，若是新的，则泛洪广播，若重复，丢弃，若过时，则拒绝
                可能出现的问题：
                    序列号回转：使用32bit作为序列号
                    序列号被破坏：利用年龄（AGE）,没过一秒，AGE减1。若为0，则丢弃
                (源路由器    LSP序列号  AGE)
                LSP到达时会被先放入保留区
        计算：
            计算最短路径
            

    OSPF:开放最短路径优先协议
        LS的实例
        位于IP层之上
        支持VLSM、CIDR
        使用带宽作为量度
        使用分区
        
        AS被分成若干区域，每个区域运行OSPF，
        必有一个骨干区域，编号0
        若只有一个区域，称为单OSPF
        
        router ID:32bits
        协议号：89 位于IP头内
        TTL为1
        
        用到5种分组
        HELLO分组：建立连接时使用，周期性发送用以维护
        DD（data describe）分组：封装的LSP的头部（摘要）信息
        LSR分组：请求相邻路由器发送LSP具体条目
        LSU（update）分组：收到LSR时发送/发生一些事件时发送
        LSAck：收到LSU时，回发LSAck.
        
        建立路由器毗邻关系
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        






